<!-- Ecommerce Item -->

<div *ngIf="isAdmin" class="d-flex justify-content-between">
  <div class="custom-control custom-checkbox ml-1 mt-1">
    <input type="checkbox" class="custom-control-input" id="customCheck{{ product.id }}" [value]="product.isChecked"
      (change)="product.isChecked = !product.isChecked" />
    <label class="custom-control-label" for="customCheck{{ product.id }}"></label>
  </div>
  <button (click)="openDetail(modal2, 'lg')" class="btn btn-outline-primary mr-1 mt-1"><i data-feather="edit"
      class="mr-25"></i></button>
</div>
<div class="item-img text-center d-flex justify-content-center">
  <a (click)="openDetail(modal, 'lg')">
    <img class="img-fluid card-img-top" style="max-height: 300px" [src]="'data:image/png;base64,' + product.image"
      alt="img-placeholder" />
  </a>
</div>
<div class="card-body">
  <div class="d-flex justify-content-between">
    <h4 class="item-name">
      <a class="text-body" href="javascript:void(0)"> {{ product.name }}</a>
    </h4>
    <h4 class="item-name">
      <a href="javascript:void(0)"> {{ product.category.name }}</a>
    </h4>
  </div>

  <p class="card-text item-description">
    Tác giả: {{ product.author }}
  </p>
  <div class="item-wrapper">
    <div class="item-cost">
      <h6 class="item-price">Giá thuê: {{ product.price }} VNĐ/ngày</h6>
      <h6 class="item-price">Đặt cọc: {{ product.deposit }} VNĐ/quyển</h6>
    </div>
  </div>
</div>
<div class="item-options text-center">
  <a href="javascript:void(0)" class="btn btn-light btn-wishlist" (click)="openDetail(modal3, 'xl')" rippleEffect>
    <i data-feather="dollar-sign" class="mr-25"></i>
    <span class="add-to-cart">Thuê ngay</span>
  </a>
  <a href="javascript:void(0)" class="btn btn-primary btn-cart" (click)="addToCart()" rippleEffect>
    <i data-feather="shopping-cart" class="mr-25"></i>
    <span class="add-to-cart">Thêm vào giỏ hàng</span>
  </a>

</div>
<!--/ Ecommerce Item -->

<ng-template #modal let-modal>
  <app-detail [modal]="modal" [product]="product"></app-detail>
</ng-template>

<ng-template #modal2 let-modal>
  <app-create [modal]="modal" [product]="product" (onSuccess)="onUpdate($event)"></app-create>
</ng-template>

<ng-template #modal3 let-modal>
  <app-buy-now [modal]="modal" [product]="product" (onSuccess)="onUpdate($event)"></app-buy-now>
</ng-template>